"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/svm/shipping/zones/[zoneId]/route";
exports.ids = ["app/api/svm/shipping/zones/[zoneId]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&page=%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute.ts&appDir=%2Fapp%2Fsaas-core%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fsaas-core&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&page=%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute.ts&appDir=%2Fapp%2Fsaas-core%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fsaas-core&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _app_saas_core_src_app_api_svm_shipping_zones_zoneId_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/svm/shipping/zones/[zoneId]/route.ts */ \"(rsc)/./src/app/api/svm/shipping/zones/[zoneId]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/svm/shipping/zones/[zoneId]/route\",\n        pathname: \"/api/svm/shipping/zones/[zoneId]\",\n        filename: \"route\",\n        bundlePath: \"app/api/svm/shipping/zones/[zoneId]/route\"\n    },\n    resolvedPagePath: \"/app/saas-core/src/app/api/svm/shipping/zones/[zoneId]/route.ts\",\n    nextConfigOutput,\n    userland: _app_saas_core_src_app_api_svm_shipping_zones_zoneId_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/svm/shipping/zones/[zoneId]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdm0lMkZzaGlwcGluZyUyRnpvbmVzJTJGJTVCem9uZUlkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzdm0lMkZzaGlwcGluZyUyRnpvbmVzJTJGJTVCem9uZUlkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc3ZtJTJGc2hpcHBpbmclMkZ6b25lcyUyRiU1QnpvbmVJZCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZhcHAlMkZzYWFzLWNvcmUlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmFwcCUyRnNhYXMtY29yZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3NhYXMtY29yZS8/YzI5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvYXBwL3NhYXMtY29yZS9zcmMvYXBwL2FwaS9zdm0vc2hpcHBpbmcvem9uZXMvW3pvbmVJZF0vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N2bS9zaGlwcGluZy96b25lcy9bem9uZUlkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N2bS9zaGlwcGluZy96b25lcy9bem9uZUlkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc3ZtL3NoaXBwaW5nL3pvbmVzL1t6b25lSWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2FwcC9zYWFzLWNvcmUvc3JjL2FwcC9hcGkvc3ZtL3NoaXBwaW5nL3pvbmVzL1t6b25lSWRdL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zdm0vc2hpcHBpbmcvem9uZXMvW3pvbmVJZF0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&page=%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute.ts&appDir=%2Fapp%2Fsaas-core%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fsaas-core&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/svm/shipping/zones/[zoneId]/route.ts":
/*!**********************************************************!*\
  !*** ./src/app/api/svm/shipping/zones/[zoneId]/route.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/**\n * SVM Shipping Zone by ID API\n * \n * GET /api/svm/shipping/zones/:zoneId - Get zone details\n * PUT /api/svm/shipping/zones/:zoneId - Update zone\n * DELETE /api/svm/shipping/zones/:zoneId - Delete zone\n */ \n// In-memory storage (shared with parent route in production)\nconst zonesStorage = new Map();\nfunction generateId(prefix) {\n    return `${prefix}_${Date.now().toString(36)}${Math.random().toString(36).substring(2, 9)}`;\n}\n/**\n * GET /api/svm/shipping/zones/:zoneId\n * Get zone details with all rates\n */ async function GET(request, context) {\n    try {\n        const { zoneId } = await context.params;\n        const { searchParams } = new URL(request.url);\n        const tenantId = searchParams.get(\"tenantId\");\n        if (!zoneId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"zoneId is required\"\n            }, {\n                status: 400\n            });\n        }\n        if (!tenantId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"tenantId query parameter is required\"\n            }, {\n                status: 400\n            });\n        }\n        const zones = zonesStorage.get(tenantId) || [];\n        const zone = zones.find((z)=>z.id === zoneId);\n        if (!zone) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Shipping zone ${zoneId} not found`\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            zone\n        });\n    } catch (error) {\n        console.error(\"[SVM] Error fetching shipping zone:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * PUT /api/svm/shipping/zones/:zoneId\n * Update zone or add/update rates\n */ async function PUT(request, context) {\n    try {\n        const { zoneId } = await context.params;\n        const body = await request.json();\n        const { tenantId, action } = body;\n        if (!zoneId || !tenantId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"zoneId and tenantId are required\"\n            }, {\n                status: 400\n            });\n        }\n        const zones = zonesStorage.get(tenantId) || [];\n        const zoneIndex = zones.findIndex((z)=>z.id === zoneId);\n        if (zoneIndex < 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Shipping zone ${zoneId} not found`\n            }, {\n                status: 404\n            });\n        }\n        const zone = zones[zoneIndex];\n        switch(action){\n            case \"UPDATE_ZONE\":\n                {\n                    // Update zone properties\n                    const { name, description, countries, states, postalCodes, cities, isDefault, isActive, priority } = body;\n                    if (name !== undefined) zone.name = name;\n                    if (description !== undefined) zone.description = description;\n                    if (countries !== undefined) zone.countries = countries;\n                    if (states !== undefined) zone.states = states;\n                    if (postalCodes !== undefined) zone.postalCodes = postalCodes;\n                    if (cities !== undefined) zone.cities = cities;\n                    if (isDefault !== undefined) zone.isDefault = isDefault;\n                    if (isActive !== undefined) zone.isActive = isActive;\n                    if (priority !== undefined) zone.priority = priority;\n                    break;\n                }\n            case \"ADD_RATE\":\n                {\n                    // Add a new rate to the zone\n                    const { rate } = body;\n                    if (!rate || !rate.name || !rate.rateType) {\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            success: false,\n                            error: \"rate with name and rateType is required\"\n                        }, {\n                            status: 400\n                        });\n                    }\n                    const newRate = {\n                        id: generateId(\"rate\"),\n                        zoneId,\n                        name: rate.name,\n                        description: rate.description,\n                        carrier: rate.carrier,\n                        rateType: rate.rateType,\n                        flatRate: rate.flatRate,\n                        weightRate: rate.weightRate,\n                        baseWeightFee: rate.baseWeightFee,\n                        percentageRate: rate.percentageRate,\n                        perItemRate: rate.perItemRate,\n                        minWeight: rate.minWeight,\n                        maxWeight: rate.maxWeight,\n                        minOrderTotal: rate.minOrderTotal,\n                        maxOrderTotal: rate.maxOrderTotal,\n                        freeAbove: rate.freeAbove,\n                        minDays: rate.minDays,\n                        maxDays: rate.maxDays,\n                        allowedProductIds: rate.allowedProductIds,\n                        excludedProductIds: rate.excludedProductIds,\n                        allowedCategoryIds: rate.allowedCategoryIds,\n                        excludedCategoryIds: rate.excludedCategoryIds,\n                        isActive: rate.isActive ?? true,\n                        priority: zone.rates.length\n                    };\n                    zone.rates.push(newRate);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: \"Rate added\",\n                        rate: newRate,\n                        zone\n                    });\n                }\n            case \"UPDATE_RATE\":\n                {\n                    // Update an existing rate\n                    const { rateId, rate } = body;\n                    if (!rateId) {\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            success: false,\n                            error: \"rateId is required\"\n                        }, {\n                            status: 400\n                        });\n                    }\n                    const rateIndex = zone.rates.findIndex((r)=>r.id === rateId);\n                    if (rateIndex < 0) {\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            success: false,\n                            error: `Rate ${rateId} not found`\n                        }, {\n                            status: 404\n                        });\n                    }\n                    // Update rate properties\n                    const existingRate = zone.rates[rateIndex];\n                    if (rate.name !== undefined) existingRate.name = rate.name;\n                    if (rate.description !== undefined) existingRate.description = rate.description;\n                    if (rate.carrier !== undefined) existingRate.carrier = rate.carrier;\n                    if (rate.rateType !== undefined) existingRate.rateType = rate.rateType;\n                    if (rate.flatRate !== undefined) existingRate.flatRate = rate.flatRate;\n                    if (rate.weightRate !== undefined) existingRate.weightRate = rate.weightRate;\n                    if (rate.baseWeightFee !== undefined) existingRate.baseWeightFee = rate.baseWeightFee;\n                    if (rate.percentageRate !== undefined) existingRate.percentageRate = rate.percentageRate;\n                    if (rate.perItemRate !== undefined) existingRate.perItemRate = rate.perItemRate;\n                    if (rate.freeAbove !== undefined) existingRate.freeAbove = rate.freeAbove;\n                    if (rate.minDays !== undefined) existingRate.minDays = rate.minDays;\n                    if (rate.maxDays !== undefined) existingRate.maxDays = rate.maxDays;\n                    if (rate.isActive !== undefined) existingRate.isActive = rate.isActive;\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: \"Rate updated\",\n                        rate: existingRate,\n                        zone\n                    });\n                }\n            case \"DELETE_RATE\":\n                {\n                    // Delete a rate\n                    const { rateId } = body;\n                    if (!rateId) {\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            success: false,\n                            error: \"rateId is required\"\n                        }, {\n                            status: 400\n                        });\n                    }\n                    const rateIndex = zone.rates.findIndex((r)=>r.id === rateId);\n                    if (rateIndex < 0) {\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            success: false,\n                            error: `Rate ${rateId} not found`\n                        }, {\n                            status: 404\n                        });\n                    }\n                    zone.rates.splice(rateIndex, 1);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: \"Rate deleted\",\n                        zone\n                    });\n                }\n            default:\n                // Default: update zone properties\n                const { name, description, countries, states, postalCodes, cities, isDefault, isActive, priority } = body;\n                if (name !== undefined) zone.name = name;\n                if (description !== undefined) zone.description = description;\n                if (countries !== undefined) zone.countries = countries;\n                if (states !== undefined) zone.states = states;\n                if (postalCodes !== undefined) zone.postalCodes = postalCodes;\n                if (cities !== undefined) zone.cities = cities;\n                if (isDefault !== undefined) zone.isDefault = isDefault;\n                if (isActive !== undefined) zone.isActive = isActive;\n                if (priority !== undefined) zone.priority = priority;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `Shipping zone ${zoneId} updated`,\n            zone\n        });\n    } catch (error) {\n        console.error(\"[SVM] Error updating shipping zone:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * DELETE /api/svm/shipping/zones/:zoneId\n * Delete a shipping zone\n */ async function DELETE(request, context) {\n    try {\n        const { zoneId } = await context.params;\n        const { searchParams } = new URL(request.url);\n        const tenantId = searchParams.get(\"tenantId\");\n        if (!zoneId || !tenantId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"zoneId and tenantId are required\"\n            }, {\n                status: 400\n            });\n        }\n        const zones = zonesStorage.get(tenantId) || [];\n        const zoneIndex = zones.findIndex((z)=>z.id === zoneId);\n        if (zoneIndex < 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Shipping zone ${zoneId} not found`\n            }, {\n                status: 404\n            });\n        }\n        const deletedZone = zones[zoneIndex];\n        zones.splice(zoneIndex, 1);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `Shipping zone ${deletedZone.name} deleted`,\n            deletedZoneId: zoneId\n        });\n    } catch (error) {\n        console.error(\"[SVM] Error deleting shipping zone:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zdm0vc2hpcHBpbmcvem9uZXMvW3pvbmVJZF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Q0FNQyxHQUVzRDtBQU12RCw2REFBNkQ7QUFDN0QsTUFBTUMsZUFBZSxJQUFJQztBQUV6QixTQUFTQyxXQUFXQyxNQUFjO0lBQ2hDLE9BQU8sQ0FBQyxFQUFFQSxPQUFPLENBQUMsRUFBRUMsS0FBS0MsR0FBRyxHQUFHQyxRQUFRLENBQUMsSUFBSSxFQUFFQyxLQUFLQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQyxJQUFJRyxTQUFTLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDNUY7QUFFQTs7O0NBR0MsR0FDTSxlQUFlQyxJQUFJQyxPQUFvQixFQUFFQyxPQUFvQjtJQUNsRSxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBRyxNQUFNRCxRQUFRRSxNQUFNO1FBQ3ZDLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUwsUUFBUU0sR0FBRztRQUM1QyxNQUFNQyxXQUFXSCxhQUFhSSxHQUFHLENBQUM7UUFFbEMsSUFBSSxDQUFDTixRQUFRO1lBQ1gsT0FBT2QscURBQVlBLENBQUNxQixJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPQyxPQUFPO1lBQXFCLEdBQzlDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxJQUFJLENBQUNMLFVBQVU7WUFDYixPQUFPbkIscURBQVlBLENBQUNxQixJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPQyxPQUFPO1lBQXVDLEdBQ2hFO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNQyxRQUFReEIsYUFBYW1CLEdBQUcsQ0FBQ0QsYUFBYSxFQUFFO1FBQzlDLE1BQU1PLE9BQU9ELE1BQU1FLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsRUFBRSxLQUFLZjtRQUV0QyxJQUFJLENBQUNZLE1BQU07WUFDVCxPQUFPMUIscURBQVlBLENB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ZS8uL3NyYy9hcHAvYXBpL3N2bS9zaGlwcGluZy96b25lcy9bem9uZUlkXS9yb3V0ZS50cz9iZmZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU1ZNIFNoaXBwaW5nIFpvbmUgYnkgSUQgQVBJXG4gKiBcbiAqIEdFVCAvYXBpL3N2bS9zaGlwcGluZy96b25lcy86em9uZUlkIC0gR2V0IHpvbmUgZGV0YWlsc1xuICogUFVUIC9hcGkvc3ZtL3NoaXBwaW5nL3pvbmVzLzp6b25lSWQgLSBVcGRhdGUgem9uZVxuICogREVMRVRFIC9hcGkvc3ZtL3NoaXBwaW5nL3pvbmVzLzp6b25lSWQgLSBEZWxldGUgem9uZVxuICovXG5cbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcblxuaW50ZXJmYWNlIFJvdXRlUGFyYW1zIHtcbiAgcGFyYW1zOiBQcm9taXNlPHsgem9uZUlkOiBzdHJpbmcgfT5cbn1cblxuLy8gSW4tbWVtb3J5IHN0b3JhZ2UgKHNoYXJlZCB3aXRoIHBhcmVudCByb3V0ZSBpbiBwcm9kdWN0aW9uKVxuY29uc3Qgem9uZXNTdG9yYWdlID0gbmV3IE1hcDxzdHJpbmcsIGFueVtdPigpXG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWQocHJlZml4OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7cHJlZml4fV8ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpfWBcbn1cblxuLyoqXG4gKiBHRVQgL2FwaS9zdm0vc2hpcHBpbmcvem9uZXMvOnpvbmVJZFxuICogR2V0IHpvbmUgZGV0YWlscyB3aXRoIGFsbCByYXRlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBjb250ZXh0OiBSb3V0ZVBhcmFtcykge1xuICB0cnkge1xuICAgIGNvbnN0IHsgem9uZUlkIH0gPSBhd2FpdCBjb250ZXh0LnBhcmFtc1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IHRlbmFudElkID0gc2VhcmNoUGFyYW1zLmdldCgndGVuYW50SWQnKVxuICAgIFxuICAgIGlmICghem9uZUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnem9uZUlkIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgaWYgKCF0ZW5hbnRJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ3RlbmFudElkIHF1ZXJ5IHBhcmFtZXRlciBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHpvbmVzID0gem9uZXNTdG9yYWdlLmdldCh0ZW5hbnRJZCkgfHwgW11cbiAgICBjb25zdCB6b25lID0gem9uZXMuZmluZCh6ID0+IHouaWQgPT09IHpvbmVJZClcbiAgICBcbiAgICBpZiAoIXpvbmUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBTaGlwcGluZyB6b25lICR7em9uZUlkfSBub3QgZm91bmRgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHpvbmVcbiAgICB9KVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tTVk1dIEVycm9yIGZldGNoaW5nIHNoaXBwaW5nIHpvbmU6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBQVVQgL2FwaS9zdm0vc2hpcHBpbmcvem9uZXMvOnpvbmVJZFxuICogVXBkYXRlIHpvbmUgb3IgYWRkL3VwZGF0ZSByYXRlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBjb250ZXh0OiBSb3V0ZVBhcmFtcykge1xuICB0cnkge1xuICAgIGNvbnN0IHsgem9uZUlkIH0gPSBhd2FpdCBjb250ZXh0LnBhcmFtc1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnN0IHsgdGVuYW50SWQsIGFjdGlvbiB9ID0gYm9keVxuICAgIFxuICAgIGlmICghem9uZUlkIHx8ICF0ZW5hbnRJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ3pvbmVJZCBhbmQgdGVuYW50SWQgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgem9uZXMgPSB6b25lc1N0b3JhZ2UuZ2V0KHRlbmFudElkKSB8fCBbXVxuICAgIGNvbnN0IHpvbmVJbmRleCA9IHpvbmVzLmZpbmRJbmRleCh6ID0+IHouaWQgPT09IHpvbmVJZClcbiAgICBcbiAgICBpZiAoem9uZUluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFNoaXBwaW5nIHpvbmUgJHt6b25lSWR9IG5vdCBmb3VuZGAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHpvbmUgPSB6b25lc1t6b25lSW5kZXhdXG4gICAgXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ1VQREFURV9aT05FJzoge1xuICAgICAgICAvLyBVcGRhdGUgem9uZSBwcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24sIGNvdW50cmllcywgc3RhdGVzLCBwb3N0YWxDb2RlcywgY2l0aWVzLCBpc0RlZmF1bHQsIGlzQWN0aXZlLCBwcmlvcml0eSB9ID0gYm9keVxuICAgICAgICBcbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkgem9uZS5uYW1lID0gbmFtZVxuICAgICAgICBpZiAoZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkgem9uZS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgICAgIGlmIChjb3VudHJpZXMgIT09IHVuZGVmaW5lZCkgem9uZS5jb3VudHJpZXMgPSBjb3VudHJpZXNcbiAgICAgICAgaWYgKHN0YXRlcyAhPT0gdW5kZWZpbmVkKSB6b25lLnN0YXRlcyA9IHN0YXRlc1xuICAgICAgICBpZiAocG9zdGFsQ29kZXMgIT09IHVuZGVmaW5lZCkgem9uZS5wb3N0YWxDb2RlcyA9IHBvc3RhbENvZGVzXG4gICAgICAgIGlmIChjaXRpZXMgIT09IHVuZGVmaW5lZCkgem9uZS5jaXRpZXMgPSBjaXRpZXNcbiAgICAgICAgaWYgKGlzRGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB6b25lLmlzRGVmYXVsdCA9IGlzRGVmYXVsdFxuICAgICAgICBpZiAoaXNBY3RpdmUgIT09IHVuZGVmaW5lZCkgem9uZS5pc0FjdGl2ZSA9IGlzQWN0aXZlXG4gICAgICAgIGlmIChwcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB6b25lLnByaW9yaXR5ID0gcHJpb3JpdHlcbiAgICAgICAgXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNhc2UgJ0FERF9SQVRFJzoge1xuICAgICAgICAvLyBBZGQgYSBuZXcgcmF0ZSB0byB0aGUgem9uZVxuICAgICAgICBjb25zdCB7IHJhdGUgfSA9IGJvZHlcbiAgICAgICAgaWYgKCFyYXRlIHx8ICFyYXRlLm5hbWUgfHwgIXJhdGUucmF0ZVR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ3JhdGUgd2l0aCBuYW1lIGFuZCByYXRlVHlwZSBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3UmF0ZSA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgncmF0ZScpLFxuICAgICAgICAgIHpvbmVJZCxcbiAgICAgICAgICBuYW1lOiByYXRlLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHJhdGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgY2FycmllcjogcmF0ZS5jYXJyaWVyLFxuICAgICAgICAgIHJhdGVUeXBlOiByYXRlLnJhdGVUeXBlLFxuICAgICAgICAgIGZsYXRSYXRlOiByYXRlLmZsYXRSYXRlLFxuICAgICAgICAgIHdlaWdodFJhdGU6IHJhdGUud2VpZ2h0UmF0ZSxcbiAgICAgICAgICBiYXNlV2VpZ2h0RmVlOiByYXRlLmJhc2VXZWlnaHRGZWUsXG4gICAgICAgICAgcGVyY2VudGFnZVJhdGU6IHJhdGUucGVyY2VudGFnZVJhdGUsXG4gICAgICAgICAgcGVySXRlbVJhdGU6IHJhdGUucGVySXRlbVJhdGUsXG4gICAgICAgICAgbWluV2VpZ2h0OiByYXRlLm1pbldlaWdodCxcbiAgICAgICAgICBtYXhXZWlnaHQ6IHJhdGUubWF4V2VpZ2h0LFxuICAgICAgICAgIG1pbk9yZGVyVG90YWw6IHJhdGUubWluT3JkZXJUb3RhbCxcbiAgICAgICAgICBtYXhPcmRlclRvdGFsOiByYXRlLm1heE9yZGVyVG90YWwsXG4gICAgICAgICAgZnJlZUFib3ZlOiByYXRlLmZyZWVBYm92ZSxcbiAgICAgICAgICBtaW5EYXlzOiByYXRlLm1pbkRheXMsXG4gICAgICAgICAgbWF4RGF5czogcmF0ZS5tYXhEYXlzLFxuICAgICAgICAgIGFsbG93ZWRQcm9kdWN0SWRzOiByYXRlLmFsbG93ZWRQcm9kdWN0SWRzLFxuICAgICAgICAgIGV4Y2x1ZGVkUHJvZHVjdElkczogcmF0ZS5leGNsdWRlZFByb2R1Y3RJZHMsXG4gICAgICAgICAgYWxsb3dlZENhdGVnb3J5SWRzOiByYXRlLmFsbG93ZWRDYXRlZ29yeUlkcyxcbiAgICAgICAgICBleGNsdWRlZENhdGVnb3J5SWRzOiByYXRlLmV4Y2x1ZGVkQ2F0ZWdvcnlJZHMsXG4gICAgICAgICAgaXNBY3RpdmU6IHJhdGUuaXNBY3RpdmUgPz8gdHJ1ZSxcbiAgICAgICAgICBwcmlvcml0eTogem9uZS5yYXRlcy5sZW5ndGhcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgem9uZS5yYXRlcy5wdXNoKG5ld1JhdGUpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogJ1JhdGUgYWRkZWQnLFxuICAgICAgICAgIHJhdGU6IG5ld1JhdGUsXG4gICAgICAgICAgem9uZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICBjYXNlICdVUERBVEVfUkFURSc6IHtcbiAgICAgICAgLy8gVXBkYXRlIGFuIGV4aXN0aW5nIHJhdGVcbiAgICAgICAgY29uc3QgeyByYXRlSWQsIHJhdGUgfSA9IGJvZHlcbiAgICAgICAgaWYgKCFyYXRlSWQpIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ3JhdGVJZCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgcmF0ZUluZGV4ID0gem9uZS5yYXRlcy5maW5kSW5kZXgoKHI6IGFueSkgPT4gci5pZCA9PT0gcmF0ZUlkKVxuICAgICAgICBpZiAocmF0ZUluZGV4IDwgMCkge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgUmF0ZSAke3JhdGVJZH0gbm90IGZvdW5kYCB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUmF0ZSA9IHpvbmUucmF0ZXNbcmF0ZUluZGV4XVxuICAgICAgICBpZiAocmF0ZS5uYW1lICE9PSB1bmRlZmluZWQpIGV4aXN0aW5nUmF0ZS5uYW1lID0gcmF0ZS5uYW1lXG4gICAgICAgIGlmIChyYXRlLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIGV4aXN0aW5nUmF0ZS5kZXNjcmlwdGlvbiA9IHJhdGUuZGVzY3JpcHRpb25cbiAgICAgICAgaWYgKHJhdGUuY2FycmllciAhPT0gdW5kZWZpbmVkKSBleGlzdGluZ1JhdGUuY2FycmllciA9IHJhdGUuY2FycmllclxuICAgICAgICBpZiAocmF0ZS5yYXRlVHlwZSAhPT0gdW5kZWZpbmVkKSBleGlzdGluZ1JhdGUucmF0ZVR5cGUgPSByYXRlLnJhdGVUeXBlXG4gICAgICAgIGlmIChyYXRlLmZsYXRSYXRlICE9PSB1bmRlZmluZWQpIGV4aXN0aW5nUmF0ZS5mbGF0UmF0ZSA9IHJhdGUuZmxhdFJhdGVcbiAgICAgICAgaWYgKHJhdGUud2VpZ2h0UmF0ZSAhPT0gdW5kZWZpbmVkKSBleGlzdGluZ1JhdGUud2VpZ2h0UmF0ZSA9IHJhdGUud2VpZ2h0UmF0ZVxuICAgICAgICBpZiAocmF0ZS5iYXNlV2VpZ2h0RmVlICE9PSB1bmRlZmluZWQpIGV4aXN0aW5nUmF0ZS5iYXNlV2VpZ2h0RmVlID0gcmF0ZS5iYXNlV2VpZ2h0RmVlXG4gICAgICAgIGlmIChyYXRlLnBlcmNlbnRhZ2VSYXRlICE9PSB1bmRlZmluZWQpIGV4aXN0aW5nUmF0ZS5wZXJjZW50YWdlUmF0ZSA9IHJhdGUucGVyY2VudGFnZVJhdGVcbiAgICAgICAgaWYgKHJhdGUucGVySXRlbVJhdGUgIT09IHVuZGVmaW5lZCkgZXhpc3RpbmdSYXRlLnBlckl0ZW1SYXRlID0gcmF0ZS5wZXJJdGVtUmF0ZVxuICAgICAgICBpZiAocmF0ZS5mcmVlQWJvdmUgIT09IHVuZGVmaW5lZCkgZXhpc3RpbmdSYXRlLmZyZWVBYm92ZSA9IHJhdGUuZnJlZUFib3ZlXG4gICAgICAgIGlmIChyYXRlLm1pbkRheXMgIT09IHVuZGVmaW5lZCkgZXhpc3RpbmdSYXRlLm1pbkRheXMgPSByYXRlLm1pbkRheXNcbiAgICAgICAgaWYgKHJhdGUubWF4RGF5cyAhPT0gdW5kZWZpbmVkKSBleGlzdGluZ1JhdGUubWF4RGF5cyA9IHJhdGUubWF4RGF5c1xuICAgICAgICBpZiAocmF0ZS5pc0FjdGl2ZSAhPT0gdW5kZWZpbmVkKSBleGlzdGluZ1JhdGUuaXNBY3RpdmUgPSByYXRlLmlzQWN0aXZlXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogJ1JhdGUgdXBkYXRlZCcsXG4gICAgICAgICAgcmF0ZTogZXhpc3RpbmdSYXRlLFxuICAgICAgICAgIHpvbmVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY2FzZSAnREVMRVRFX1JBVEUnOiB7XG4gICAgICAgIC8vIERlbGV0ZSBhIHJhdGVcbiAgICAgICAgY29uc3QgeyByYXRlSWQgfSA9IGJvZHlcbiAgICAgICAgaWYgKCFyYXRlSWQpIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ3JhdGVJZCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgcmF0ZUluZGV4ID0gem9uZS5yYXRlcy5maW5kSW5kZXgoKHI6IGFueSkgPT4gci5pZCA9PT0gcmF0ZUlkKVxuICAgICAgICBpZiAocmF0ZUluZGV4IDwgMCkge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgUmF0ZSAke3JhdGVJZH0gbm90IGZvdW5kYCB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB6b25lLnJhdGVzLnNwbGljZShyYXRlSW5kZXgsIDEpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogJ1JhdGUgZGVsZXRlZCcsXG4gICAgICAgICAgem9uZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBEZWZhdWx0OiB1cGRhdGUgem9uZSBwcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24sIGNvdW50cmllcywgc3RhdGVzLCBwb3N0YWxDb2RlcywgY2l0aWVzLCBpc0RlZmF1bHQsIGlzQWN0aXZlLCBwcmlvcml0eSB9ID0gYm9keVxuICAgICAgICBcbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkgem9uZS5uYW1lID0gbmFtZVxuICAgICAgICBpZiAoZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkgem9uZS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgICAgIGlmIChjb3VudHJpZXMgIT09IHVuZGVmaW5lZCkgem9uZS5jb3VudHJpZXMgPSBjb3VudHJpZXNcbiAgICAgICAgaWYgKHN0YXRlcyAhPT0gdW5kZWZpbmVkKSB6b25lLnN0YXRlcyA9IHN0YXRlc1xuICAgICAgICBpZiAocG9zdGFsQ29kZXMgIT09IHVuZGVmaW5lZCkgem9uZS5wb3N0YWxDb2RlcyA9IHBvc3RhbENvZGVzXG4gICAgICAgIGlmIChjaXRpZXMgIT09IHVuZGVmaW5lZCkgem9uZS5jaXRpZXMgPSBjaXRpZXNcbiAgICAgICAgaWYgKGlzRGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB6b25lLmlzRGVmYXVsdCA9IGlzRGVmYXVsdFxuICAgICAgICBpZiAoaXNBY3RpdmUgIT09IHVuZGVmaW5lZCkgem9uZS5pc0FjdGl2ZSA9IGlzQWN0aXZlXG4gICAgICAgIGlmIChwcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB6b25lLnByaW9yaXR5ID0gcHJpb3JpdHlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiBgU2hpcHBpbmcgem9uZSAke3pvbmVJZH0gdXBkYXRlZGAsXG4gICAgICB6b25lXG4gICAgfSlcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbU1ZNXSBFcnJvciB1cGRhdGluZyBzaGlwcGluZyB6b25lOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBERUxFVEUgL2FwaS9zdm0vc2hpcHBpbmcvem9uZXMvOnpvbmVJZFxuICogRGVsZXRlIGEgc2hpcHBpbmcgem9uZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBjb250ZXh0OiBSb3V0ZVBhcmFtcykge1xuICB0cnkge1xuICAgIGNvbnN0IHsgem9uZUlkIH0gPSBhd2FpdCBjb250ZXh0LnBhcmFtc1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IHRlbmFudElkID0gc2VhcmNoUGFyYW1zLmdldCgndGVuYW50SWQnKVxuICAgIFxuICAgIGlmICghem9uZUlkIHx8ICF0ZW5hbnRJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ3pvbmVJZCBhbmQgdGVuYW50SWQgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgem9uZXMgPSB6b25lc1N0b3JhZ2UuZ2V0KHRlbmFudElkKSB8fCBbXVxuICAgIGNvbnN0IHpvbmVJbmRleCA9IHpvbmVzLmZpbmRJbmRleCh6ID0+IHouaWQgPT09IHpvbmVJZClcbiAgICBcbiAgICBpZiAoem9uZUluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFNoaXBwaW5nIHpvbmUgJHt6b25lSWR9IG5vdCBmb3VuZGAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRlbGV0ZWRab25lID0gem9uZXNbem9uZUluZGV4XVxuICAgIHpvbmVzLnNwbGljZSh6b25lSW5kZXgsIDEpXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiBgU2hpcHBpbmcgem9uZSAke2RlbGV0ZWRab25lLm5hbWV9IGRlbGV0ZWRgLFxuICAgICAgZGVsZXRlZFpvbmVJZDogem9uZUlkXG4gICAgfSlcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbU1ZNXSBFcnJvciBkZWxldGluZyBzaGlwcGluZyB6b25lOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiem9uZXNTdG9yYWdlIiwiTWFwIiwiZ2VuZXJhdGVJZCIsInByZWZpeCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHJpbmciLCJHRVQiLCJyZXF1ZXN0IiwiY29udGV4dCIsInpvbmVJZCIsInBhcmFtcyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInRlbmFudElkIiwiZ2V0IiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1cyIsInpvbmVzIiwiem9uZSIsImZpbmQiLCJ6IiwiaWQiLCJjb25zb2xlIiwiUFVUIiwiYm9keSIsImFjdGlvbiIsInpvbmVJbmRleCIsImZpbmRJbmRleCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImNvdW50cmllcyIsInN0YXRlcyIsInBvc3RhbENvZGVzIiwiY2l0aWVzIiwiaXNEZWZhdWx0IiwiaXNBY3RpdmUiLCJwcmlvcml0eSIsInVuZGVmaW5lZCIsInJhdGUiLCJyYXRlVHlwZSIsIm5ld1JhdGUiLCJjYXJyaWVyIiwiZmxhdFJhdGUiLCJ3ZWlnaHRSYXRlIiwiYmFzZVdlaWdodEZlZSIsInBlcmNlbnRhZ2VSYXRlIiwicGVySXRlbVJhdGUiLCJtaW5XZWlnaHQiLCJtYXhXZWlnaHQiLCJtaW5PcmRlclRvdGFsIiwibWF4T3JkZXJUb3RhbCIsImZyZWVBYm92ZSIsIm1pbkRheXMiLCJtYXhEYXlzIiwiYWxsb3dlZFByb2R1Y3RJZHMiLCJleGNsdWRlZFByb2R1Y3RJZHMiLCJhbGxvd2VkQ2F0ZWdvcnlJZHMiLCJleGNsdWRlZENhdGVnb3J5SWRzIiwicmF0ZXMiLCJsZW5ndGgiLCJwdXNoIiwibWVzc2FnZSIsInJhdGVJZCIsInJhdGVJbmRleCIsInIiLCJleGlzdGluZ1JhdGUiLCJzcGxpY2UiLCJFcnJvciIsIkRFTEVURSIsImRlbGV0ZWRab25lIiwiZGVsZXRlZFpvbmVJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/svm/shipping/zones/[zoneId]/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&page=%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsvm%2Fshipping%2Fzones%2F%5BzoneId%5D%2Froute.ts&appDir=%2Fapp%2Fsaas-core%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fsaas-core&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();