"use strict";(()=>{var e={};e.id=7954,e.ids=[7954],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},22520:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{POST:()=>d});var s=r(49303),i=r(88716),o=r(60670),n=r(87070),p=r(84588);async function d(e){try{let{tenantId:t,name:r,description:a,countries:s,states:i,postalCodes:o,cities:d,isDefault:u,isActive:c,priority:l,rates:m}=await e.json();if(!t||!r)return n.NextResponse.json({success:!1,error:"tenantId and name are required"},{status:400});let g=(0,p.Ox)("zone"),x={id:g,tenantId:t,name:r,description:a||"",countries:s||[],states:i||[],postalCodes:o||[],cities:d||[],isDefault:u||!1,isActive:!1!==c,priority:l||0,rates:(m||[]).map((e,t)=>({id:(0,p.Ox)("rate"),zoneId:g,name:e.name||"Unnamed Rate",description:e.description,carrier:e.carrier,rateType:e.rateType||"FLAT",flatRate:e.flatRate,weightRate:e.weightRate,baseWeightFee:e.baseWeightFee,percentageRate:e.percentageRate,perItemRate:e.perItemRate,minWeight:e.minWeight,maxWeight:e.maxWeight,minOrderTotal:e.minOrderTotal,maxOrderTotal:e.maxOrderTotal,freeAbove:e.freeAbove,minDays:e.minDays,maxDays:e.maxDays,allowedProductIds:e.allowedProductIds||[],excludedProductIds:e.excludedProductIds||[],allowedCategoryIds:e.allowedCategoryIds||[],excludedCategoryIds:e.excludedCategoryIds||[],isActive:!1!==e.isActive,priority:t})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await (0,p.ri)(x),n.NextResponse.json({success:!0,zone:x},{status:201})}catch(e){return console.error("[SVM] Error creating shipping zone:",e),n.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Internal server error"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/svm/shipping/zones/route",pathname:"/api/svm/shipping/zones",filename:"route",bundlePath:"app/api/svm/shipping/zones/route"},resolvedPagePath:"/app/saas-core/src/app/api/svm/shipping/zones/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=u,g="/api/svm/shipping/zones/route";function x(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9380,5972,4588],()=>r(22520));module.exports=a})();