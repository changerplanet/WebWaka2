(()=>{var e={};e.id=626,e.ids=[626],e.modules={3524:e=>{"use strict";e.exports=require("@prisma/client")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1540:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(974),s(731),s(5866);var a=s(3191),r=s(8716),i=s(7922),n=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,974)),"/app/saas-core/src/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,731)),"/app/saas-core/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/saas-core/src/app/login/page.tsx"],u="/login/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6146:(e,t,s)=>{Promise.resolve().then(s.bind(s,9566))},2881:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(7577);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:n,iconNode:d,...u},m)=>(0,a.createElement)("svg",{ref:m,...c,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:l("lucide",i),...!n&&!o(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),u=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...i},o)=>(0,a.createElement)(d,{ref:o,iconNode:t,className:l(`lucide-${r(n(e))}`,`lucide-${e}`,s),...i}));return s.displayName=n(e),s}},9734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},2933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},1291:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},7506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5047:(e,t,s)=>{"use strict";var a=s(7389);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},9566:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(326),r=s(7577),i=s(5047),n=s(9734),l=s(2933),o=s(2881);let c=(0,o.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=s(3810),u=s(1291);let m=(0,o.Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var x=s(7506);let h=(0,o.Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function p(){let e=(0,i.useSearchParams)();(0,i.useRouter)();let[t,s]=(0,r.useState)(""),[o,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[j,v]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1),N=e.get("tenant");async function P(e){e.preventDefault(),p(!0),b(null),v(null);try{let e=await fetch("/api/auth/magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,tenantSlug:N})}),s=await e.json();s.success?(f(!0),s.magicLink&&v(s.magicLink)):b(s.error||"Failed to send magic link")}catch(e){b("Network error. Please try again.")}finally{p(!1)}}async function S(){j&&(await navigator.clipboard.writeText(j),k(!0),setTimeout(()=>k(!1),2e3))}return e.get("error"),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 mb-4",children:a.jsx(n.Z,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"SaaS Core"}),N&&(0,a.jsxs)("p",{className:"text-slate-500 mt-1",children:["Signing in to ",N]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-xl shadow-slate-200/50 p-8",children:g?(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4",children:a.jsx(l.Z,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:j?"Magic Link Ready":"Check your email"}),a.jsx("p",{className:"text-slate-600 mb-6",children:j?"Click the button below to sign in, or check your email.":(0,a.jsxs)(a.Fragment,{children:["We sent a magic link to ",a.jsx("strong",{children:t}),". Click the link to sign in."]})}),j&&(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("a",{href:j,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 transition",children:[a.jsx(c,{className:"w-5 h-5"}),"Sign In Now"]}),(0,a.jsxs)("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border border-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-50 transition",children:[a.jsx(d.Z,{className:"w-4 h-4"}),w?"Copied!":"Copy Link"]}),a.jsx("p",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded-lg",children:"⚠️ Dev Mode: Email sending requires a verified domain in Resend"})]}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:["Didn't receive it?"," ",a.jsx("button",{onClick:()=>{f(!1),b(null),v(null)},className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Try again"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Sign in with email"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"We'll send you a magic link"})]}),y&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-xl mb-6 text-red-700",children:[a.jsx(u.Z,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:y})]}),(0,a.jsxs)("form",{onSubmit:P,children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email address"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(m,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:e=>s(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",placeholder:"you@example.com"})]})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:["Continue",a.jsx(h,{className:"w-5 h-5"})]})})]})]})}),a.jsx("p",{className:"text-center text-slate-500 text-sm mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})})}},974:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/app/saas-core/src/app/login/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[380,641,152],()=>s(1540));module.exports=a})();