
POS-INT-1 â€” Full POS Component Integration & Reachability Audit

Mode: INTEGRATION & WIRING ONLY
Scope: POS pages, layouts, routes, menus, action triggers
Prohibitions:
	â€¢	âŒ No new features
	â€¢	âŒ No schema changes
	â€¢	âŒ No business logic changes
	â€¢	âŒ No UI redesign
	â€¢	âŒ No background jobs

â¸»

ğŸ¯ OBJECTIVE

Ensure that ALL POS components built across POS-P1 â†’ POS-P5 are:
	1.	Mounted into actual POS pages
	2.	Reachable via UI navigation or action triggers
	3.	Correctly permission-gated
	4.	Integrated into the correct lifecycle state (shift open/closed, role level, online/offline)
	5.	Not orphaned, dead, or export-only

â¸»

ğŸ§­ STEP 1 â€” POS PAGE MAP (DO NOT CODE)

Enumerate every POS page and layout:
	â€¢	/pos
	â€¢	/pos/layout.tsx
	â€¢	/pos/page.tsx
	â€¢	/pos-demo
	â€¢	/parkhub/*/pos (if shared components reused)

Produce a POS PAGE MATRIX showing:
	â€¢	Page
	â€¢	Layout
	â€¢	Who can access
	â€¢	What components are mounted directly
	â€¢	What components are reachable indirectly (modals, drawers, menus)

ğŸ›‘ STOP CONDITION 1
Do NOT proceed until a table exists listing every POS page and its mounted components.

â¸»

ğŸ§© STEP 2 â€” COMPONENT INTEGRATION MATRIX (READ FIRST)

From frontend/src/components/pos/index.ts, enumerate ALL exported POS components, including but not limited to:
	â€¢	POSProvider
	â€¢	POSCart
	â€¢	PaymentScreen
	â€¢	ReceiptView
	â€¢	TransactionHistory
	â€¢	ShiftManagement
	â€¢	XZReport
	â€¢	Reconciliation
	â€¢	InventoryAdjustment
	â€¢	CashTransfer
	â€¢	SupervisorDashboard
	â€¢	DailyReconciliation
	â€¢	VoidSaleModal
	â€¢	Any POS-P1 â†’ P5 components

For each component, record:

Component	Integrated?	Where Mounted	Trigger Path	Permission Gate	State Gate


ğŸ›‘ STOP CONDITION 2
If any component is:
	â€¢	Exported but not mounted
	â€¢	Mounted but unreachable
	â€¢	Reachable without permission checks

ğŸ‘‰ HALT and report before fixing

â¸»

ğŸ”— STEP 3 â€” INTEGRATE MISSING COMPONENTS (CONTROLLED)

For each verified missing or orphaned component:

Allowed Integration Methods ONLY:
	â€¢	Add to existing POS page sections
	â€¢	Add to existing POS menus (Manager Menu / Shift Menu)
	â€¢	Add modal triggers (buttons, menu items)
	â€¢	Add route-level mounting only under /pos

REQUIRED RULES:
	â€¢	Respect existing POSProvider state
	â€¢	Enforce role checks via usePOSRole()
	â€¢	Enforce shift-state checks (open/closed)
	â€¢	Enforce online/offline constraints
	â€¢	NO direct access URLs unless justified

Examples:
	â€¢	InventoryAdjustment â†’ Manager Menu â†’ Requires open or closed shift
	â€¢	CashTransfer â†’ Manager Menu â†’ Requires supervisor+
	â€¢	SupervisorDashboard â†’ Manager Menu â†’ Read-only
	â€¢	DailyReconciliation â†’ Postâ€“Z-report only

ğŸ›‘ STOP CONDITION 3
After each integration:
	â€¢	Confirm how the user reaches it
	â€¢	Confirm who can reach it
	â€¢	Confirm when it is allowed

â¸»

ğŸ” STEP 4 â€” PERMISSION & STATE VERIFICATION

For every POS action surface:
	â€¢	Validate role enforcement
	â€¢	Validate shift enforcement
	â€¢	Validate offline behavior
	â€¢	Validate tenant & location isolation

Explicitly verify:
	â€¢	No Cashier sees Supervisor tools
	â€¢	No actions bypass shift lifecycle
	â€¢	No reconciliation before Z-report
	â€¢	No Advanced Ops visible without approval role

ğŸ›‘ STOP CONDITION 4
If any privilege leak or state bypass is found, STOP and report before proceeding.

â¸»

ğŸ§ª STEP 5 â€” NAVIGATION & DISCOVERABILITY CHECK

Verify that:
	â€¢	All POS features are discoverable without documentation
	â€¢	No critical feature is hidden behind non-obvious clicks
	â€¢	Labels match Nigerian retail language (Shift, Z Report, Cash Count)

Document:
	â€¢	Where users might get lost
	â€¢	Where affordances are unclear (but DO NOT redesign)

â¸»

ğŸ“„ FINAL DELIVERABLE (MANDATORY)

Produce POS_INTEGRATION_COMPLETION_REPORT.md containing:
	1.	POS Page â†’ Component Matrix
	2.	Component â†’ Integration Matrix
	3.	List of newly wired components (if any)
	4.	Confirmation that zero POS components remain orphaned
	5.	Explicit confirmation:
â€œAll POS-P1 â†’ POS-P5 components are integrated, reachable, permission-gated, and state-safe.â€

ğŸ›‘ FINAL HARD STOP
Do NOT proceed to any new wave, feature, or enhancement.
Wait for human verification and sign-off.

â¸»