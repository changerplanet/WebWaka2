Understood. Below is the exact Replit execution prompt for Wave E2 ‚Äî White-Label Domains & Partner Branding, written with strict scope control, hard stop conditions, and zero ambiguity, consistent with how we‚Äôve been running Bands A‚ÄìE.

‚∏ª

üü£ WAVE E2 ‚Äî WHITE-LABEL DOMAINS & PARTNER BRANDING

Replit Execution Prompt (Authoritative)

üîí WAVE CLASSIFICATION
	‚Ä¢	Band: E ‚Äî Branding & Partner Power
	‚Ä¢	Wave: E2
	‚Ä¢	Risk Level: MEDIUM (Public surface + branding)
	‚Ä¢	Money Movement: ‚ùå NONE
	‚Ä¢	Automation / Jobs: ‚ùå FORBIDDEN
	‚Ä¢	External Integrations: ‚ùå FORBIDDEN
	‚Ä¢	Template Ingestion: ‚ùå FORBIDDEN

‚∏ª

üéØ OBJECTIVE

Enable safe, controlled white-label branding for tenants and partners without changing core logic, without exposing new public attack surfaces, and without breaking demo/live separation.

This wave is FOUNDATIONAL BRANDING ONLY, not monetization, not theming engines, and not marketplace logic.

‚∏ª

üß© SCOPE OF WORK (ALLOWED)

1Ô∏è‚É£ DOMAIN MAPPING (READ + RENDER ONLY)

Implement domain-based tenant resolution:
	‚Ä¢	Support:
	‚Ä¢	tenantSlug.webwaka.app
	‚Ä¢	customdomain.com
	‚Ä¢	www.customdomain.com
	‚Ä¢	Domain ‚Üí tenant resolution must:
	‚Ä¢	Be server-side only
	‚Ä¢	Resolve to an existing tenant
	‚Ä¢	Respect tenant.status and enabled modules
	‚Ä¢	No DNS automation
	‚Ä¢	No SSL provisioning
	‚Ä¢	No redirects or rewrites beyond resolution

üìå Explicitly out of scope:
	‚Ä¢	Certificate management
	‚Ä¢	DNS verification workflows
	‚Ä¢	Wildcard domain provisioning

‚∏ª

2Ô∏è‚É£ TENANT BRANDING LAYER (SAFE OVERRIDES ONLY)

Enable branding overrides using existing tenant data or metadata only:

Allowed branding fields:
	‚Ä¢	Logo (light / dark)
	‚Ä¢	Brand name
	‚Ä¢	Primary color
	‚Ä¢	Secondary color
	‚Ä¢	Favicon
	‚Ä¢	Email sender name (display only)

Rules:
	‚Ä¢	Branding must never override functional UI
	‚Ä¢	Branding must never affect admin or partner portals
	‚Ä¢	Branding applies only to:
	‚Ä¢	Public storefronts (SVM)
	‚Ä¢	Marketplaces (MVM)
	‚Ä¢	ParkHub public pages
	‚Ä¢	Sites & Funnels public rendering

üìå Do NOT introduce:
	‚Ä¢	New theme engines
	‚Ä¢	CSS injection
	‚Ä¢	Arbitrary style overrides
	‚Ä¢	Per-page branding logic

‚∏ª

3Ô∏è‚É£ PARTNER BRANDING BOUNDARIES

Partner branding rules:
	‚Ä¢	Partner may:
	‚Ä¢	Apply branding to their own tenants
	‚Ä¢	View branding status
	‚Ä¢	Partner may NOT:
	‚Ä¢	Apply branding globally
	‚Ä¢	Affect Super Admin assets
	‚Ä¢	Override system trust indicators
	‚Ä¢	Super Admin remains final authority

‚∏ª

4Ô∏è‚É£ DEMO VS LIVE SAFETY (MANDATORY)
	‚Ä¢	Demo tenants:
	‚Ä¢	Can use demo branding assets
	‚Ä¢	Must be visually marked as DEMO
	‚Ä¢	Live tenants:
	‚Ä¢	Must NOT see demo branding
	‚Ä¢	Branding resolution must use:
	‚Ä¢	tenant.isDemo from DB
	‚Ä¢	‚ùå NOT slug or name heuristics

‚∏ª

5Ô∏è‚É£ UI EXPOSURE (MINIMAL, CONTROLLED)

Tenant Admin
	‚Ä¢	Branding preview panel
	‚Ä¢	Read-only domain display
	‚Ä¢	No DNS instructions
	‚Ä¢	No SSL instructions

Partner Portal
	‚Ä¢	Branding status indicator per tenant
	‚Ä¢	No upload flows
	‚Ä¢	No edit controls

Super Admin
	‚Ä¢	Full visibility
	‚Ä¢	Override capability
	‚Ä¢	Emergency reset

‚∏ª

üö´ EXPLICITLY FORBIDDEN IN WAVE E2

‚ùå New Prisma models
‚ùå New public APIs
‚ùå Background jobs / cron
‚ùå CSS/theme engines
‚ùå External branding uploads
‚ùå Domain verification flows
‚ùå White-label billing logic
‚ùå Template changes
‚ùå Marketplace exposure

If any of the above appear necessary ‚Üí STOP AND REPORT

‚∏ª

üõë HARD STOP CONDITIONS (NON-NEGOTIABLE)

Replit MUST STOP and request review when:
	1.	Domain resolution is working for:
	‚Ä¢	tenantSlug.webwaka.app
	‚Ä¢	custom domain
	2.	Branding renders correctly on:
	‚Ä¢	SVM storefront
	‚Ä¢	MVM marketplace
	‚Ä¢	ParkHub public pages
	‚Ä¢	Sites & Funnels
	3.	Admin/Partner portals are NOT affected
	4.	Demo/live separation is enforced server-side
	5.	No new schemas or endpoints were added

Deliver a Wave E2 Completion Report including:
	‚Ä¢	Resolved surfaces
	‚Ä¢	Screenshots or route list
	‚Ä¢	Demo vs live behavior confirmation
	‚Ä¢	Explicit list of anything NOT implemented

üö® Do NOT proceed to Wave F or E3
üö® Do NOT ‚Äúimprove UX‚Äù beyond scope
üö® Do NOT refactor unrelated code

‚∏ª

‚úÖ SUCCESS CRITERIA

Wave E2 is successful if:
	‚Ä¢	Branding is predictable, safe, reversible
	‚Ä¢	Domains resolve correctly without security regression
	‚Ä¢	No partner or tenant can escalate privileges
	‚Ä¢	Public surfaces feel white-labeled without breaking trust

‚∏ª

END OF WAVE E2 PROMPT