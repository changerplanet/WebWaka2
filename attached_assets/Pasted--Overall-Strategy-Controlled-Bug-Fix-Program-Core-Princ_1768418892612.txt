
‚úÖ Overall Strategy: Controlled Bug Fix Program

Core Principles
	1.	Everything communicated upfront (full scope, priorities, rules)
	2.	Bugs grouped into logical fix waves
	3.	After each wave: STOP ‚Üí report ‚Üí await approval
	4.	No new prompt needed per wave ‚Äî only explicit approval to continue
	5.	No scope creep (no enhancements, refactors, or redesigns unless explicitly allowed later)

‚∏ª

üß© Bug Fix Phases (Execution Waves)

üî¥ Wave 1 ‚Äî P0 Critical Blockers (Production Stoppers)

Must be 100% clean before anything else

Includes:
	‚Ä¢	BUG-001: /sites-funnels-suite 404
	‚Ä¢	BUG-002: Missing /api/pos/shifts endpoint
	‚Ä¢	BUG-003: npm security vulnerabilities (Next.js + deps)
	‚Ä¢	BUG-004: Mock education students data
	‚Ä¢	BUG-005: Education students API mismatch

‚û°Ô∏è Output: Platform no longer has broken routes, mock data, or critical security issues.

‚∏ª

üü† Wave 2 ‚Äî P1 High Priority (Pre-Launch Stability)

Includes:
	‚Ä¢	BUG-006: Hardcoded localhost:3000
	‚Ä¢	BUG-007: Duplicate login pages
	‚Ä¢	BUG-008 / BUG-009: Missing POS / Sites & Funnels routes
	‚Ä¢	BUG-010: APIs returning HTML instead of JSON
	‚Ä¢	BUG-012: NEXT_PUBLIC_APP_URL handling
	‚Ä¢	BUG-013: TODO / FIXME cleanup (safe removal only)

‚û°Ô∏è Output: Clean auth UX, consistent routing, environment-safe URLs.

‚∏ª

üü° Wave 3 ‚Äî P2 Medium Priority (UX & Developer Experience)

Includes:
	‚Ä¢	BUG-014: Sample/demo data references in prod pages
	‚Ä¢	BUG-015: Missing suite landing pages
	‚Ä¢	BUG-016: Inconsistent route naming
	‚Ä¢	BUG-017: return null rendering issues
	‚Ä¢	BUG-018: Canonical login redirect
	‚Ä¢	BUG-019: Infinite spinners
	‚Ä¢	BUG-020: Generic page titles
	‚Ä¢	BUG-021: tenantId error clarity
	‚Ä¢	BUG-022: Missing error boundaries
	‚Ä¢	BUG-023: Duplicate service worker logs
	‚Ä¢	BUG-024: Session cleanup investigation
	‚Ä¢	BUG-025: DemoIndicator visibility

‚û°Ô∏è Output: Professional UX polish, predictable behavior.

‚∏ª

üü¢ Wave 4 ‚Äî P3 Low Priority (Nice-to-Have / Hygiene)

Includes:
	‚Ä¢	BUG-026 ‚Üí BUG-032 (React DevTools message, robots.txt, breadcrumbs, placeholders, skeleton loaders, OTP button visibility, etc.)

‚û°Ô∏è Output: Marketing polish and developer cleanliness.

‚∏ª

üõë Global Safety Rules (Apply to ALL Waves)
	‚Ä¢	‚ùå No schema changes (unless explicitly approved later)
	‚Ä¢	‚ùå No feature additions
	‚Ä¢	‚ùå No redesigns
	‚Ä¢	‚ùå No refactors unless required to fix a bug
	‚Ä¢	‚ùå No demo data reseeding
	‚Ä¢	‚ùå No deployment
	‚Ä¢	‚úÖ Bug fixes only
	‚Ä¢	‚úÖ Keep changes minimal and scoped

‚∏ª

üß† What Replit1 Must Do After EACH Wave

After completing a wave, Replit1 must:
	1.	Produce a Wave Completion Report
	2.	List:
	‚Ä¢	Bugs fixed (by BUG-ID)
	‚Ä¢	Files changed
	‚Ä¢	Any deviations or assumptions
	‚Ä¢	Verification steps performed
	3.	STOP
	4.	Wait for your explicit approval:
‚ÄúApproved. Proceed to next wave.‚Äù

‚∏ª

üìå MASTER PROMPT FOR REPLIT1 (SEND THIS)

You can copy-paste the prompt below as-is.

‚∏ª

üõ†Ô∏è REPLIT1 PROMPT ‚Äî CONTROLLED PLATFORM BUG FIX EXECUTION

Objective

Fix all bugs identified in the Post-Phase Z Comprehensive Bug Hunt Report using a phased, approval-gated execution plan, starting with P0 Critical Blockers.

‚∏ª

üîí EXECUTION RULES (STRICT)
	‚Ä¢	Work only on bugs explicitly listed in the report
	‚Ä¢	Do NOT add features, enhancements, or redesigns
	‚Ä¢	Do NOT change schemas or seed data
	‚Ä¢	Do NOT deploy
	‚Ä¢	Do NOT refactor unless unavoidable for a fix
	‚Ä¢	Keep fixes minimal, surgical, and traceable
	‚Ä¢	Every change must map to a BUG-ID

‚∏ª

üì¶ FIX WAVES (EXECUTE IN ORDER)

Wave 1 ‚Äî P0 Critical Blockers
Fix ONLY:
	‚Ä¢	BUG-001: Missing /sites-funnels-suite page (404)
	‚Ä¢	BUG-002: Missing /api/pos/shifts API endpoint
	‚Ä¢	BUG-003: npm security vulnerabilities (use npm audit fix)
	‚Ä¢	BUG-004: Replace mock data in education students page with DB query
	‚Ä¢	BUG-005: Fix education students API mismatch

üö® Do NOT touch P1, P2, or P3 bugs in this wave.

‚∏ª

üìÑ REQUIRED OUTPUT (AFTER WAVE 1)

Produce:
PHASE_BUGFIX_WAVE_1_REPORT.md

Include:
	‚Ä¢	Bugs fixed (BUG-IDs)
	‚Ä¢	Files modified
	‚Ä¢	Summary of changes
	‚Ä¢	Verification performed
	‚Ä¢	Confirmation that no out-of-scope changes were made

Then:
üõë STOP AND WAIT FOR APPROVAL

‚∏ª

üîÅ CONTINUATION RULE

After approval, proceed to the next wave without needing a new prompt, following the same rules and reporting structure for:
	‚Ä¢	Wave 2 (P1)
	‚Ä¢	Wave 3 (P2)
	‚Ä¢	Wave 4 (P3)

‚∏ª

‚ùó ABSOLUTE STOP CONDITIONS

If you encounter:
	‚Ä¢	A fix that requires schema change
	‚Ä¢	A bug that cannot be fixed without redesign
	‚Ä¢	Ambiguous behavior requiring product decision

‚û°Ô∏è STOP and report ‚Äî do NOT proceed

‚∏ª

End of Prompt