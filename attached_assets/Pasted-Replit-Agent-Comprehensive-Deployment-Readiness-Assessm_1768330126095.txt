Replit Agent â€” Comprehensive Deployment Readiness Assessment

Context
This application (WebWaka) is a Next.js 14 App Router fullstack application with:
	â€¢	Prisma + PostgreSQL (Supabase)
	â€¢	FastAPI backend (proxy-style)
	â€¢	Replit configured as staging only
	â€¢	Production target will be Vercel later

The app runs locally in Replit, but deployment intermittently fails due to configuration/build issues (npm syntax, database diff checks, deployment pipeline inconsistencies).

â¸»

ğŸ¯ Objective

Perform a thorough, production-grade assessment of the current application state to determine:
	1.	âœ… What is correctly configured
	2.	âŒ What is blocking Replit from deploying successfully
	3.	âš ï¸ What is risky or fragile (even if currently â€œworkingâ€)
	4.	ğŸ“‹ What must be fixed before Replit deployment can be considered stable

This is an analysis-only phase unless explicitly instructed otherwise.

â¸»

ğŸ” Scope of Assessment (MANDATORY)

1ï¸âƒ£ Deployment Configuration
	â€¢	Verify Run / Deployment configuration
	â€¢	Root directory correctness
	â€¢	Install / Build / Run commands
	â€¢	Port binding & host exposure
	â€¢	Confirm no invalid npm flags (e.g. npm --prefix misuse)
	â€¢	Detect any implicit commands injected by Replit that may override user config

2ï¸âƒ£ Build & Install Pipeline
	â€¢	Validate:
	â€¢	npm install
	â€¢	npm run build
	â€¢	npm run dev / npm run start
	â€¢	Identify why build sometimes fails despite correct scripts
	â€¢	Detect race conditions or directory resolution issues

3ï¸âƒ£ Prisma & Database Lifecycle
	â€¢	Confirm:
	â€¢	Correct use of DATABASE_URL (pooled)
	â€¢	Correct use of DIRECT_URL (migrations)
	â€¢	Identify:
	â€¢	Any Prisma commands Replit tries to auto-run
	â€¢	Why â€œdatabase diffâ€ checks sometimes disconnect
	â€¢	Verify Prisma client generation timing vs build

4ï¸âƒ£ Environment Variables & Secrets
	â€¢	Confirm all required variables are present
	â€¢	Detect:
	â€¢	Variables required at build-time vs runtime
	â€¢	Any missing defaults or unsafe fallbacks
	â€¢	Flag any hardcoded secrets or demo credentials

5ï¸âƒ£ Runtime Architecture
	â€¢	Confirm:
	â€¢	Node runtime usage (no Edge runtime where Prisma is used)
	â€¢	No filesystem writes at runtime
	â€¢	Identify:
	â€¢	Blocking synchronous DB calls in layouts or middleware
	â€¢	Global dynamic rendering that harms stability

6ï¸âƒ£ Replit-Specific Constraints
	â€¢	Detect:
	â€¢	Background process assumptions
	â€¢	Long-running build steps
	â€¢	Memory / CPU pressure points
	â€¢	Confirm compatibility with Replitâ€™s deployment model

â¸»

ğŸ“„ Required Output Format

Produce a single structured report with:

âœ… VERIFIED WORKING

List everything confirmed correct.

âŒ BLOCKERS (Must Fix)

Each blocker must include:
	â€¢	Exact file / config
	â€¢	Why it breaks Replit deployment
	â€¢	Concrete fix recommendation

âš ï¸ HIGH-RISK (Not Blocking Yet)

Items that may cause instability under load or redeploys.

ğŸ› ï¸ RECOMMENDED FIX ORDER

A step-by-step remediation plan prioritized for Replit deployment stability.

ğŸš¦ FINAL VERDICT

One of:
	â€¢	READY FOR STABLE REPLIT DEPLOYMENT
	â€¢	CONDITIONALLY READY (with listed fixes)
	â€¢	BLOCKED

â¸»

ğŸ›‘ Constraints
	â€¢	âŒ Do NOT modify code unless explicitly authorized
	â€¢	âŒ Do NOT auto-fix issues
	â€¢	âœ… Analysis, diagnostics, and recommendations only

â¸»

ğŸ” Guiding Principle

Assume this application will be used in production.
Assess with the same rigor as a professional DevOps / Platform Engineer.

â¸»

When finished, wait for explicit approval before applying any fixes.

â¸»