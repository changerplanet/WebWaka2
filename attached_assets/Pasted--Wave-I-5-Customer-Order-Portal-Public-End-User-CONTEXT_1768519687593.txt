
Wave I.5 â€” Customer Order Portal (Public / End-User)

CONTEXT

WebWaka has a large amount of existing order logic across:
	â€¢	SVM (Single Vendor Marketplace)
	â€¢	MVM (Multi-Vendor Marketplace)
	â€¢	ParkHub (Transport commerce)

However, end customers currently have no unified, dedicated portal to:
	â€¢	View their orders
	â€¢	Track order status
	â€¢	Access receipts / verification links

The backend logic already exists.
This wave is about exposing that logic safely â€” not extending it.

â¸»

ðŸŽ¯ WAVE I.5 OBJECTIVE

Expose a read-only Customer Order Portal that allows end users to:
	â€¢	View their order history
	â€¢	View individual order details
	â€¢	Track order status
	â€¢	Access receipts / verification pages
	â€¢	Access ParkHub ticket references

âš ï¸ NO actions are allowed
(no cancellation, refunds, re-ordering, messaging, or payments)

â¸»

ðŸ›‘ HARD CONSTRAINTS (NON-NEGOTIABLE)

âŒ DO NOT:
	â€¢	Invent new business logic
	â€¢	Add new schema fields or models
	â€¢	Modify existing order lifecycle rules
	â€¢	Add background jobs or automation
	â€¢	Add refunds, cancellations, or edits
	â€¢	Add messaging, WhatsApp, or email flows
	â€¢	Add cross-tenant access
	â€¢	â€œPatchâ€ missing features with hacks

âœ… YOU MAY:
	â€¢	Read from existing models
	â€¢	Reuse existing services
	â€¢	Create read-only UI components
	â€¢	Add server-side resolvers for routing
	â€¢	Return 404 where data does not exist
	â€¢	Document gaps explicitly

â¸»

ðŸ“ REQUIRED ROUTES

1ï¸âƒ£ Customer Orders Index

/[tenantSlug]/orders

Purpose
	â€¢	List all orders belonging to the customer

Data Sources (existing only)
	â€¢	svm_order
	â€¢	mvm_parent_order
	â€¢	park_ticket

Rules
	â€¢	Orders must belong to the authenticated user OR
	â€¢	Be accessed via a valid order reference token
	â€¢	Tenant resolved server-side by tenantSlug
	â€¢	Demo tenants allowed without auth (read-only)

â¸»

2ï¸âƒ£ Order Detail Page

/[tenantSlug]/orders/[orderRef]

Purpose
	â€¢	Display a single order (SVM, MVM, or ParkHub)

Display (read-only)
	â€¢	Order number / reference
	â€¢	Order type (Store / Marketplace / Transport)
	â€¢	Items / tickets
	â€¢	Status
	â€¢	Total amount (NGN)
	â€¢	Payment method (Card / Bank Transfer / COD / Cash)
	â€¢	Date & time
	â€¢	Receipt / verification links (if available)

â¸»

3ï¸âƒ£ ParkHub Ticket Shortcut (Optional)

/[tenantSlug]/orders/ticket/[ticketRef]

Behavior
	â€¢	Resolves to existing ParkHub ticket data
	â€¢	Links to receipt / manifest verification pages
	â€¢	No new booking logic

â¸»

ðŸ” DATA ACCESS RULES
	â€¢	Use existing Prisma models only
	â€¢	Use existing services where possible
	â€¢	If a unified service does NOT exist:
	â€¢	Query Prisma directly
	â€¢	Follow existing patterns
	â€¢	NEVER aggregate across tenants
	â€¢	Enforce session.activeTenantId when authenticated

â¸»

ðŸ§© UI COMPONENT RULES
	â€¢	Mobile-first
	â€¢	Read-only
	â€¢	Clear status badges
	â€¢	NGN currency formatting
	â€¢	Reuse existing design system components
	â€¢	No write actions or buttons beyond navigation

â¸»

âš ï¸ MANDATORY GAP DISCIPLINE

If you encounter any missing capability, you MUST:
	1.	Stop
	2.	Document the gap
	3.	Do NOT invent a workaround

Examples of gaps to document (if encountered):
	â€¢	No unified â€œorderâ€ abstraction across SVM/MVM/ParkHub
	â€¢	Inconsistent status enums across order types
	â€¢	Missing customer identity linkage
	â€¢	Missing receipt association
	â€¢	Missing tracking UI components

Each gap must be listed with:
	â€¢	What is missing
	â€¢	Why it cannot be solved in Wave I
	â€¢	Where it should be deferred

â¸»

ðŸ“„ REQUIRED COMPLETION REPORT

At the end of Wave I.5, you MUST provide a report with:

1ï¸âƒ£ Routes Implemented

| Route | Purpose | Status |

2ï¸âƒ£ Order Types Supported
	â€¢	SVM
	â€¢	MVM
	â€¢	ParkHub

3ï¸âƒ£ Services / Models Used

(List exact files and models)

4ï¸âƒ£ Demo vs Live Behavior

5ï¸âƒ£ Explicit Confirmations
	â€¢	âŒ No new business logic
	â€¢	âŒ No schema changes
	â€¢	âŒ No automation
	â€¢	âŒ No payments
	â€¢	âŒ No refunds
	â€¢	âŒ No messaging

6ï¸âƒ£ GAP LIST (MANDATORY)

Every unresolved limitation must be listed.

â¸»

ðŸ›‘ STOP CONDITION

After submitting the Wave I.5 Completion Report:
	â€¢	STOP immediately
	â€¢	Do NOT continue to any further work
	â€¢	Await explicit approval

â¸»

ðŸ“Œ FINAL NOTE

Wave I is about truthful exposure, not feature completion.

A correct Wave I.5 may feel â€œlimitedâ€ â€” that is expected and desired.

Accuracy > completeness
Truth > polish

â¸»