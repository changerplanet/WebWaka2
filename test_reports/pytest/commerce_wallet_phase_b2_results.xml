<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="6" skipped="0" tests="48" time="133.069" timestamp="2026-01-02T09:51:26.829564+00:00" hostname="agent-env-c4e6a5b9-f83b-4d0b-9120-48454952e240"><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletCreation" name="test_create_customer_wallet" time="1.289" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletCreation" name="test_create_vendor_wallet" time="1.063" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletCreation" name="test_create_platform_wallet" time="1.065" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletCreation" name="test_customer_wallet_requires_customer_id" time="0.077"><failure message="AssertionError: assert 'customerId' in 'customerid is required for customer wallet'&#10; +  where 'customerid is required for customer wallet' = &lt;built-in method lower of str object at 0xfa688fd2c630&gt;()&#10; +    where &lt;built-in method lower of str object at 0xfa688fd2c630&gt; = 'customerId is required for CUSTOMER wallet'.lower">tests/test_commerce_wallet_phase_b2.py:110: in test_customer_wallet_requires_customer_id
    assert "customerId" in data["error"].lower()
E   AssertionError: assert 'customerId' in 'customerid is required for customer wallet'
E    +  where 'customerid is required for customer wallet' = &lt;built-in method lower of str object at 0xfa688fd2c630&gt;()
E    +    where &lt;built-in method lower of str object at 0xfa688fd2c630&gt; = 'customerId is required for CUSTOMER wallet'.lower</failure></testcase><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletCreation" name="test_vendor_wallet_requires_vendor_id" time="0.070"><failure message="AssertionError: assert 'vendorId' in 'vendorid is required for vendor wallet'&#10; +  where 'vendorid is required for vendor wallet' = &lt;built-in method lower of str object at 0xfa688fcf9830&gt;()&#10; +    where &lt;built-in method lower of str object at 0xfa688fcf9830&gt; = 'vendorId is required for VENDOR wallet'.lower">tests/test_commerce_wallet_phase_b2.py:123: in test_vendor_wallet_requires_vendor_id
    assert "vendorId" in data["error"].lower()
E   AssertionError: assert 'vendorId' in 'vendorid is required for vendor wallet'
E    +  where 'vendorid is required for vendor wallet' = &lt;built-in method lower of str object at 0xfa688fcf9830&gt;()
E    +    where &lt;built-in method lower of str object at 0xfa688fcf9830&gt; = 'vendorId is required for VENDOR wallet'.lower</failure></testcase><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletCreation" name="test_platform_wallet_no_owner" time="0.068" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletCreation" name="test_get_or_create_returns_existing" time="1.616" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletRetrieval" name="test_get_wallet_by_id" time="0.793" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletRetrieval" name="test_get_wallet_without_ledger" time="0.571" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletRetrieval" name="test_get_wallet_not_found" time="0.572" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletRetrieval" name="test_get_wallet_wrong_tenant" time="0.770" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletRetrieval" name="test_list_wallets_for_tenant" time="0.659" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletRetrieval" name="test_list_wallets_filter_by_type" time="0.566" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletRetrieval" name="test_list_wallets_filter_by_customer_id" time="0.561" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestCreditOperations" name="test_credit_sale_proceeds" time="1.667" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestCreditOperations" name="test_credit_platform_fee" time="1.680" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestCreditOperations" name="test_credit_refund" time="1.666" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestCreditOperations" name="test_credit_adjustment" time="1.760" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestCreditOperations" name="test_credit_idempotency" time="2.939" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestCreditOperations" name="test_credit_requires_credit_entry_type" time="0.574" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestCreditOperations" name="test_credit_requires_positive_amount" time="0.071" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestDebitOperations" name="test_debit_payout" time="4.214" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestDebitOperations" name="test_debit_platform_fee" time="3.315" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestDebitOperations" name="test_debit_idempotency" time="4.705" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestDebitOperations" name="test_debit_insufficient_balance" time="3.998"><failure message="assert 520 == 500&#10; +  where 520 = &lt;Response [520]&gt;.status_code">tests/test_commerce_wallet_phase_b2.py:568: in test_debit_insufficient_balance
    assert response.status_code == 500  # Internal error with message
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   assert 520 == 500
E    +  where 520 = &lt;Response [520]&gt;.status_code</failure></testcase><testcase classname="tests.test_commerce_wallet_phase_b2.TestDebitOperations" name="test_debit_requires_debit_entry_type" time="2.237" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestHoldOperations" name="test_create_hold" time="4.422" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestHoldOperations" name="test_release_hold" time="6.926" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestHoldOperations" name="test_capture_hold" time="6.046" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestHoldOperations" name="test_hold_insufficient_available_balance" time="6.866"><failure message="assert 520 == 500&#10; +  where 520 = &lt;Response [520]&gt;.status_code">tests/test_commerce_wallet_phase_b2.py:729: in test_hold_insufficient_available_balance
    assert response.status_code == 500
E   assert 520 == 500
E    +  where 520 = &lt;Response [520]&gt;.status_code</failure></testcase><testcase classname="tests.test_commerce_wallet_phase_b2.TestHoldOperations" name="test_hold_requires_hold_id" time="3.295" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestTransferOperations" name="test_transfer_funds" time="7.368" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestTransferOperations" name="test_transfer_idempotency" time="8.679" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestTransferOperations" name="test_transfer_insufficient_balance" time="6.401"><failure message="assert 520 == 500&#10; +  where 520 = &lt;Response [520]&gt;.status_code">tests/test_commerce_wallet_phase_b2.py:854: in test_transfer_insufficient_balance
    assert response.status_code == 500
E   assert 520 == 500
E    +  where 520 = &lt;Response [520]&gt;.status_code</failure></testcase><testcase classname="tests.test_commerce_wallet_phase_b2.TestTransferOperations" name="test_transfer_same_wallet_fails" time="3.950" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletStatusUpdate" name="test_update_status_to_frozen" time="2.211" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletStatusUpdate" name="test_update_status_back_to_active" time="3.384" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletStatusUpdate" name="test_frozen_wallet_cannot_credit" time="3.262"><failure message="assert 520 == 500&#10; +  where 520 = &lt;Response [520]&gt;.status_code">tests/test_commerce_wallet_phase_b2.py:939: in test_frozen_wallet_cannot_credit
    assert response.status_code == 500
E   assert 520 == 500
E    +  where 520 = &lt;Response [520]&gt;.status_code</failure></testcase><testcase classname="tests.test_commerce_wallet_phase_b2.TestWalletStatusUpdate" name="test_invalid_status_rejected" time="1.678" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestRecalculateBalance" name="test_recalculate_balance" time="6.166" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestLedgerEntries" name="test_get_ledger_entries" time="5.848" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestLedgerEntries" name="test_filter_by_entry_type" time="5.496" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestLedgerEntries" name="test_filter_by_reference_type" time="5.620" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestLedgerEntries" name="test_ledger_pagination" time="5.771" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestValidationAndEdgeCases" name="test_missing_tenant_id" time="0.134" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestValidationAndEdgeCases" name="test_invalid_wallet_type" time="0.066" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestValidationAndEdgeCases" name="test_missing_action" time="0.076" /><testcase classname="tests.test_commerce_wallet_phase_b2.TestValidationAndEdgeCases" name="test_missing_idempotency_key" time="0.631" /></testsuite></testsuites>